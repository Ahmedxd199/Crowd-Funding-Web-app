{% extends 'base.html' %}
{% load static %}

{% block Title %}
Crowd Funding
{% endblock %}

{%block content%}
<div id="carouselExampleIndicators" class="carousel slide" data-bs-ride="carousel">
  <ol class="carousel-indicators">
    {% for project in topRatedProjectsList %}
    <li data-target="#carouselExampleIndicators" data-slide-to={{forloop.counter0}}></li>
    {% endfor %}
  </ol>
  <div class="carousel-inner">
    {% for project in topRatedProjectsList %}

    {% if forloop.first %}
    <div class="carousel-item active ">
      {% else %}
      <div class="carousel-item  ">
        {% endif %}
        <img style="width:100%;height:500px;"  src="{{project.0.img.url}}">
        <div class="carousel-caption d-none d-md-block">
          <a  href="/project/project_info/{{project.0.project_id.project_id}}"target="_blank" style="text-decoration:none;">
            <h1 class="text-dark">{{project.0.project_id.title}}</h1>
          </a>
          <h3 class="text-dark">{{project.0.project_id.details}}</h3>
        </div>
      </div>
      {% endfor %}
    </div>
    <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="sr-only"></span>
  </a>
  <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="sr-only"></span>
  </a>
  </div>
  <div class="container bg-light " style="border-radius: 40px; margin-top: 30px;">
    <div class="text-center " style="font-size: 50px;"> Latest Projects</div>
    <div class="row d-flex justify-content-center">
      {% for project in latestProjectsList %}
      <div class="card col-md-3" style="border-radius:10px ; margin:2px;">
        {% if project.0.img %}
        {% load static %}
        <img class="card-img-top w-100" height="200" src="{{project.0.img.url}}" alt="Card image">
        {% else %}
        <img class="card-img-top w-100" height="200" src="" alt="Not Found ">
        {% endif %}
        <div class="card-body">
          <h4 class="card-title">{{project.0.project_id.title}}</h4>
          <p class="card-text">Total target : <span class="text-success">{{project.0.project_id.total_target}} $</span>
          </p>
          <p class="card-text">
          <Details> <span class="text-success">{{project.0.project_id.details}} </span></Details>
          </p>
          <p class="card-text">Start Date : <span class="text-success">{{project.0.project_id.start_date}} </span>
          </p>
          <p class="card-text">End Date : <span class="text-success">{{project.0.project_id.end_date}}</span></p>
        </div>

      </div>
      {%endfor%}
    </div>
  </div>
  <div class="container bg-light " style="margin-top:40px ; border-radius: 40px;">
    <div class="text-center " style="font-size: 50px;"> Featured Projects</div>
    <div class="row d-flex justify-content-center">
      {% for project in featuredProjectsList %}
      <div class="card col-md-3" style="border-radius:20px ; padding: 5px; margin: 5px;">
        {% if project.0.img %}
        {% load static %}
        <img class="card-img-top w-100" height="200" src="{{project.0.img.url}}" alt="Card image">
        {% else %}
        <img class="card-img-top w-100" height="200" src="" alt="Not Found ">
        {% endif %}
        <div class="card-body">
          <h4 class="card-title">{{project.0.project_id.title}}</h4>
          <p class="card-text">Total target : <span class="text-success">{{project.0.project_id.total_target}} $</span>
          </p>
          <p class="card-text">
          <Details> <span class="text-success">{{project.0.project_id.details}} </span></Details>
          </p>
          <p class="card-text">Start Date : <span class="text-success">{{project.0.project_id.start_date}} </span>
          </p>
          <p class="card-text">End Date : <span class="text-success">{{project.0.project_id.end_date}}</span></p>
        </div>

      </div>
      {%endfor%}
    </div>
  </div>

  <div class="container bg-light " style="margin-top:40px ;height: 400px; border-radius: 40px;">
    <div class="text-center " style="font-size: 50px;">Categories</div>
    <div class="row mt-2 mb-5">
      {% for category in categories %}
      <div class="col-md-3 text-center text-dark">
        <a href="projectlist/{{category.category_id}}" class="text-dark" style="text-decoration: none; ">
          <h3 class="badge bg-dark">{{category.category_name}}</h3>
        </a>
      </div>
      {% endfor %}
    </div>
  </div>

</div>
{%endblock%}